# 機能仕様: [機能名]

## 概要

[この機能の目的と概要を記述]

## スコープ

[実装範囲を明確に記述。最小実装か、フル実装かなど]

## ユースケース

### 基本フロー

1. [ステップ1]
2. [ステップ2]
3. [ステップ3]
...

## 機能要件

### 1. [機能名1]

[機能の詳細を記述]

### 2. [機能名2]

[機能の詳細を記述]

### 3. [機能名3]

[機能の詳細を記述]

## UI/UX要件

### レイアウト

```
[ASCIIアートでレイアウトを描く]
```

### デザイン要件

- [デザイン要件1]
- [デザイン要件2]

## 技術要件

### フロントエンド

#### 状態管理
- [管理する状態1]
- [管理する状態2]

### バックエンド

#### ファイルストレージ（該当する場合）
- [ストレージの種類と設定]

#### API エンドポイント

##### [HTTPメソッド] [エンドポイントパス]
[エンドポイントの説明]

**リクエスト**
- [リクエストの詳細]

**レスポンス**
```json
{
  "field1": "type1",
  "field2": "type2"
}
```

**エラーレスポンス** (RFC 9457 準拠)
```json
{
  "type": "about:blank",
  "title": "Error Title",
  "status": 400,
  "detail": "Error detail message"
}
```

#### データモデル

**[テーブル名] テーブル**
```sql
CREATE TABLE table_name (
  id UUID PRIMARY KEY,
  field1 VARCHAR(255) NOT NULL,
  created_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP
);
```

#### この機能で実装する層

- **Controller層**: [Controllerクラス名]（[エンドポイント概要]）
- **UseCase層**: [UseCaseクラス名1]、[UseCaseクラス名2]
- **Repository層**: [Repositoryクラス名]
- **Infrastructure層**: [Serviceクラス名]

## エラーハンドリング

[エラーハンドリングの方針を記述]

### エラーケース

| エラー | 発生場所 | メッセージ |
|--------|----------|-----------|
| [エラー1] | [場所] | 「[メッセージ]」 |
| [エラー2] | [場所] | 「[メッセージ]」 |

## 実装手順

[主要機能に分けて段階的に実装します。各機能で動作確認を行いながら進めます。]

### 機能1: [機能名1]

**目的**: [この機能で実現すること]

#### 環境セットアップ（必要な場合）
1. [セットアップ項目1]
2. [セットアップ項目2]

#### バックエンド実装
1. [実装項目1]
2. [実装項目2]
3. [実装項目3]

#### フロントエンド実装
1. [実装項目1]
2. [実装項目2]
3. [実装項目3]

**動作確認**: 
- [確認項目1]
- [確認項目2]

### 機能2: [機能名2]

**目的**: [この機能で実現すること]

#### バックエンド実装
1. [実装項目1]
2. [実装項目2]

#### フロントエンド実装
1. [実装項目1]
2. [実装項目2]

**動作確認**:
- [確認項目1]
- [確認項目2]

### 機能3: [機能名3]

**目的**: [この機能で実現すること]

#### フロントエンド実装（またはバックエンド実装）
1. [実装項目1]
2. [実装項目2]

**動作確認**:
- [確認項目1]
- [確認項目2]

### 最終確認: E2Eテスト

**目的**: 全機能が連携して正しく動作することを確認する

1. [テスト項目1]
2. [テスト項目2]
3. [テスト項目3]

**確認**: すべてのテストケースが通ること

## 受け入れ基準 - Specification by Example

### Scenario: [正常系シナリオ1のタイトル]

```gherkin
Given [前提条件を記述]
When [ユーザーのアクションを記述]
And [追加のアクションを記述]
Then [期待される結果を記述]
And [追加の期待結果を記述]
```

### Scenario: [正常系シナリオ2のタイトル]

```gherkin
Given [前提条件を記述]
When [ユーザーのアクションを記述]
And [追加のアクションを記述]
Then [期待される結果を記述]
And [追加の期待結果を記述]
```

### Scenario: [異常系シナリオのタイトル]

```gherkin
Given [前提条件を記述]
When [エラーを引き起こすアクションを記述]
Then [エラーメッセージが表示されることを記述]
And [期待される状態を記述]
```

### Scenario: [UI状態確認シナリオのタイトル]

```gherkin
Given [前提条件を記述]
When [アクションを記述（必要な場合）]
Then [UIの状態を記述]
And [追加のUI状態を記述]
```

### Scenario Outline: [パラメータ化テストのタイトル]

```gherkin
Given [前提条件を<パラメータ>を使って記述]
When [アクションを記述]
And [追加のアクションを記述]
Then [期待される結果を記述]
And [追加の期待結果を記述]

Examples:
  | パラメータ1 | パラメータ2 |
  | 値1-1       | 値1-2       |
  | 値2-1       | 値2-2       |
  | 値3-1       | 値3-2       |
```

### Scenario Outline: [ブラウザ互換性テスト]（必要な場合）

```gherkin
Given ユーザーが<ブラウザ>を使用している
When ユーザーが[アプリケーション名]にアクセスする
And [主要なアクションを記述]
Then [期待される動作を記述]
And [追加の期待される動作を記述]

Examples:
  | ブラウザ | バージョン |
  | Chrome   | 最新版     |
  | Firefox  | 最新版     |
  | Safari   | 最新版     |
  | Edge     | 最新版     |
```

### Scenario Outline: [レスポンシブデザインテスト]（必要な場合）

```gherkin
Given ユーザーが<デバイス>を使用している
And 画面サイズが<画面サイズ>である
When ユーザーが[アプリケーション名]にアクセスする
And [主要なアクションを記述]
Then レイアウトが適切に表示される
And すべての機能が正常に動作する

Examples:
  | デバイス     | 画面サイズ    |
  | デスクトップ | 1920x1080     |
  | タブレット   | 768x1024      |
  | モバイル     | 375x667       |
```

## 将来の拡張候補

- [拡張候補1]
- [拡張候補2]
- [拡張候補3]
