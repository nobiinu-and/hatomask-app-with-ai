# 実験比較レポート: 予測駆動 vs 発見駆動

**実験期間**: YYYY-MM-DD 〜 YYYY-MM-DD  
**レポート作成日**: YYYY-MM-DD  
**作成者**: [名前]

---

## エグゼクティブサマリー

[3-5文で結論を記載]

**例:**
> 本実験では、予測駆動と発見駆動の2つのアプローチで写真アップロード機能を実装し、時間・品質・学習効果を比較した。予測駆動は事前設計に時間がかかるが実装は安定的、発見駆動は早期フィードバックが得られる一方でモデル変更が頻発した。要件が明確な場合は予測駆動、探索的な開発では発見駆動が有効と結論づけられる。

### 主要な発見

1. **発見1**: [最も重要な発見]
2. **発見2**: [...]
3. **発見3**: [...]

### 推奨

- **予測駆動を使うべき場面**: [...]
- **発見駆動を使うべき場面**: [...]
- **ハイブリッドの可能性**: [...]

---

## 実験設計

### 比較パターン

- ✅ **パターンB採用**: 異なる機能をそれぞれのアプローチで実装
  - シナリオ1（予測駆動）: [シナリオ名]
  - シナリオ2（発見駆動）: [シナリオ名]

### 実験環境

| 項目 | 値 |
|------|-----|
| プロジェクト | HatoMask App |
| 技術スタック | React/TypeScript, Spring Boot/Java |
| 開発プロセス | BDD/TDD, Vertical Slice |
| AI協働 | GitHub Copilot / Claude |

### 実施シナリオ

#### シナリオ1: 予測駆動

- **機能**: [機能名]
- **ブランチ**: `experiment/predictive-[scenario]`
- **実施期間**: YYYY-MM-DD 〜 YYYY-MM-DD
- **実施者**: [名前]

#### シナリオ2: 発見駆動

- **機能**: [機能名]
- **ブランチ**: `experiment/discovery-[scenario]`
- **実施期間**: YYYY-MM-DD 〜 YYYY-MM-DD
- **実施者**: [名前]

---

## 定量結果

### 時間比較

| 指標 | 予測駆動 | 発見駆動 | 差分 | 割合 |
|------|---------|---------|------|------|
| **Phase 1: Spec作成** | XX分 | XX分 | ±XX分 | XX% |
| **Phase 2: モデリング** | XX分 | XX分 | ±XX分 | XX% |
| **Phase 3: API設計** | XX分 | XX分 | ±XX分 | XX% |
| **Phase 4: 実装計画** | XX分 | XX分 | ±XX分 | XX% |
| **Phase 5: Stub生成** | XX分 | XX分 | ±XX分 | XX% |
| **Phase 6: 縦切り実装** | XX分 | XX分 | ±XX分 | XX% |
| **Phase 7: 統合テスト** | XX分 | XX分 | ±XX分 | XX% |
| **総実装時間** | **XX分** | **XX分** | **±XX分** | **XX%** |
| **初回E2Eグリーン** | XX分 | XX分 | ±XX分 | XX% |

#### 分析

- Phase 2-4の事前設計時間: 予測駆動はXX分、発見駆動はXX分（XX%短縮）
- 初回E2Eグリーン到達: 発見駆動がXX分早い
- Phase 6実装時間: [どちらが早いか、理由は何か]

### 変更回数比較

| 指標 | 予測駆動 | 発見駆動 | 解釈 |
|------|---------|---------|------|
| ドメインモデル修正 | X回 | X回 | 発見駆動は進化的、予測駆動は安定的 |
| API仕様変更 | X回 | X回 | 同上 |
| コミット数 | X | X | 発見駆動は小刻みなコミットが多い |
| テスト実行回数 | X回 | X回 | - |

#### 分析

- 予測駆動: モデル変更が少なく、事前設計の精度が高い
- 発見駆動: モデル変更が多いが、各変更に学びがある

### ドキュメント量比較

| Phase | 予測駆動 | 発見駆動 | 差分 | 割合 |
|-------|---------|---------|------|------|
| Phase 1: Spec | XX行 | XX行 | ±XX行 | XX% |
| Phase 2: モデル | XX行 | XX行 | ±XX行 | XX% |
| Phase 3: API仕様 | XX行 | XX行 | ±XX行 | XX% |
| Phase 4: 計画 | XX行 | XX行 | ±XX行 | XX% |
| **合計（Phase 1-4）** | **XX行** | **XX行** | **±XX行** | **XX%** |

#### 分析

- 予測駆動は詳細なドキュメントを事前作成
- 発見駆動はドキュメントを最小限に抑え、実装中に拡充

### コード品質指標

| 指標 | 予測駆動 | 発見駆動 | コメント |
|------|---------|---------|---------|
| テストカバレッジ（Backend） | XX% | XX% | - |
| テストカバレッジ（Frontend） | XX% | XX% | - |
| Checkstyle違反 | X件 | X件 | - |
| ESLint警告 | X件 | X件 | - |
| 平均メソッド行数 | XX行 | XX行 | - |
| 循環的複雑度 | XX | XX | - |

---

## 定性結果

### 5段階評価の比較

| 項目 | 予測駆動 | 発見駆動 | 差 | 分析 |
|------|:--------:|:--------:|:--:|------|
| ストレスレベル | X | X | ±X | [分析] |
| 学習効果 | X | X | ±X | [分析] |
| 柔軟性 | X | X | ±X | [分析] |
| AIとの協働 | X | X | ±X | [分析] |
| 早期フィードバック | X | X | ±X | [分析] |
| 設計の質 | X | X | ±X | [分析] |
| コードの質 | X | X | ±X | [分析] |
| ドキュメントの質 | X | X | ±X | [分析] |

### 設計の進化パターン

#### 予測駆動

**特徴**:
- Phase 2-3で設計が固まり、Phase 6では変更が少ない
- 事前設計の精度が成功の鍵
- 変更は「例外的な事態」として扱われる

**典型的なパターン**:
1. Phase 2で完全なモデルを作成
2. Phase 3でAPI仕様を詳細定義
3. Phase 4で詳細な実装計画
4. Phase 6で計画通りに実装
5. 小規模な調整のみ

**メリット**:
- 実装が迷わず進む
- チーム間の調整がしやすい
- 大規模なリファクタが不要

**デメリット**:
- 事前設計に時間がかかる
- 実装してみないとわからない点がある
- 過剰設計のリスク

#### 発見駆動

**特徴**:
- 実装中に設計が大きく進化
- 「実装してみて初めて分かる」パターンが多い
- 変更は「正常なプロセス」として歓迎される

**典型的なパターン**:
1. Phase 2で最小限のモデルを作成
2. Phase 3で必要なAPIから順次定義
3. Phase 4で柔軟な計画
4. Phase 6で実装しながら設計を修正
5. 各変更で学びを得る

**メリット**:
- 早期フィードバックが得られる
- 過剰設計を避けられる
- 実装を通じて学習できる

**デメリット**:
- 頻繁な設計変更が発生
- ドキュメントの同期が課題
- 大幅な変更のリスク

### 学習効果

#### 予測駆動で得られた学び

1. [学び1]
2. [学び2]
3. [学び3]

#### 発見駆動で得られた学び

1. [学び1]
2. [学び2]
3. [学び3]

### ストレスと柔軟性

#### 予測駆動

- **ストレス**: [事前設計の負担、実装の安心感]
- **柔軟性**: [追加要件への対応しやすさ]

#### 発見駆動

- **ストレス**: [不確実性への耐性、変更の頻度]
- **柔軟性**: [追加要件への対応しやすさ]

---

## 発見事項

### 予測駆動の強み

1. **強み1**: [...]
   - 理由: [...]
   - 効果: [...]

2. **強み2**: [...]

3. **強み3**: [...]

### 予測駆動の弱み

1. **弱み1**: [...]
   - 理由: [...]
   - 影響: [...]

2. **弱み2**: [...]

3. **弱み3**: [...]

### 発見駆動の強み

1. **強み1**: [...]
   - 理由: [...]
   - 効果: [...]

2. **強み2**: [...]

3. **強み3**: [...]

### 発見駆動の弱み

1. **弱み1**: [...]
   - 理由: [...]
   - 影響: [...]

2. **弱み2**: [...]

3. **弱み3**: [...]

---

## 推奨事項

### いつ予測駆動を使うべきか

以下の条件に当てはまる場合、予測駆動を推奨:

1. **要件が明確で変更が少ない**
   - 例: 既存機能の拡張、法律要件の実装

2. **チーム規模が大きい**
   - 例: 5人以上のチームで、調整コストが高い

3. **リスク管理が重要**
   - 例: ミッションクリティカルな機能

4. **ドキュメント重視**
   - 例: 監査対応、引き継ぎが頻繁

5. **固定スコープ・固定期間**
   - 例: ウォーターフォール的なプロジェクト

### いつ発見駆動を使うべきか

以下の条件に当てはまる場合、発見駆動を推奨:

1. **要件が不確実で探索が必要**
   - 例: 新規事業、MVP開発

2. **早期の価値提供が重要**
   - 例: スタートアップ、競争の激しい市場

3. **小規模チームやソロ開発**
   - 例: 1-3人のチーム

4. **学習と実験を重視**
   - 例: 技術検証、プロトタイピング

5. **柔軟性が求められる**
   - 例: アジャイル開発、頻繁な仕様変更

### ハイブリッドアプローチの可能性

両方の良い点を組み合わせた「ハイブリッドアプローチ」も検討可能:

#### パターン1: Phase別の使い分け

- Phase 2-3: 予測駆動（しっかり設計）
- Phase 6: 発見駆動（実装中の柔軟な修正）

#### パターン2: 機能特性による使い分け

- コア機能: 予測駆動（安定性重視）
- 実験的機能: 発見駆動（学習重視）

#### パターン3: 反復による進化

1. 1回目: 発見駆動でMVPを作成
2. 2回目: 予測駆動でリファクタリング・拡張

---

## 次のステップ

### mainブランチへの統合

#### オプション1: 予測駆動を採用

```bash
# modes/predictive/ を system/ と tasks/ に展開
./scripts/deploy-prompts.sh --mode=predictive

# 確認してコミット
git add docs/ai/prompts/system docs/ai/prompts/tasks
git commit -m "実験結果を反映: 予測駆動を標準プロセスに採用"
```

#### オプション2: 発見駆動を採用

```bash
# modes/discovery/ を system/ と tasks/ に展開
./scripts/deploy-prompts.sh --mode=discovery

# 確認してコミット
git add docs/ai/prompts/system docs/ai/prompts/tasks
git commit -m "実験結果を反映: 発見駆動を標準プロセスに採用"
```

#### オプション3: ハイブリッドを作成

1. 新しいプロンプトセットを作成: `modes/hybrid/`
2. 予測駆動と発見駆動の良い点を組み合わせ
3. 展開してテスト

### アーカイブ

```bash
# 実験記録とmodesをアーカイブ
mkdir -p docs/ai/prompts/modes/archive/2025-12
mkdir -p docs/experiments/archive/2025-12

# 未採用モードをアーカイブ
mv docs/ai/prompts/modes/[未採用モード] docs/ai/prompts/modes/archive/2025-12/

# 実験記録をアーカイブ
mv docs/experiments/predictive-experiments docs/experiments/archive/2025-12/
mv docs/experiments/discovery-experiments docs/experiments/archive/2025-12/
mv docs/experiments/comparison-report-*.md docs/experiments/archive/2025-12/
```

### ドキュメント更新

- [ ] `docs/AI_COLLABORATION.md` を更新
- [ ] `docs/dev/DEVELOPMENT.md` を更新
- [ ] `README.md` に実験結果を反映
- [ ] チームに共有（Wiki、Slack等）

---

## 添付資料

### グラフ・図表

[時間比較のグラフ、変更回数の推移など]

### スクリーンショット

[重要な画面や差分のスクリーンショット]

### 参考リンク

- 予測駆動実験ログ: [link]
- 発見駆動実験ログ: [link]
- Discovery版変更点: [docs/ai/prompts/modes/discovery/CHANGES.md](../ai/prompts/modes/discovery/CHANGES.md)

---

## 謝辞

[実験に協力してくれた人、フィードバックをくれた人への感謝]

---

## 変更履歴

| 日時 | 更新内容 |
|------|---------|
| YYYY-MM-DD | レポート初版作成 |
| YYYY-MM-DD | データ追加、分析更新 |
| YYYY-MM-DD | 推奨事項を追記 |
