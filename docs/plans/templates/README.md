# å®Ÿè£…è¨ˆç”»ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ

ã“ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ã¯ã€BDD/TDD é–‹ç™ºãƒ—ãƒ­ã‚»ã‚¹ã§ä½¿ç”¨ã™ã‚‹å®Ÿè£…è¨ˆç”»ã¨ãƒ†ã‚¹ãƒˆãƒªã‚¹ãƒˆã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãŒå«ã¾ã‚Œã¦ã„ã¾ã™ã€‚

## ğŸ“‹ ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆä¸€è¦§

### 1. implementation_plan.template.md

**ç”¨é€”**: Task04 - Gherkin ã‚·ãƒŠãƒªã‚ªä½œæˆ + å®Ÿè£…è¨ˆç”»ç­–å®š  
**å†…å®¹**:

- OpenAPI ä»•æ§˜ã®å‚ç…§
- ã‚¹ãƒ†ãƒƒãƒ—åˆ¥å®Ÿè£…åˆ†é¡ï¼ˆãƒ•ãƒ­ãƒ³ãƒˆã®ã¿/API ä¾å­˜/çŠ¶æ…‹ä¾å­˜ï¼‰
- æ¨å¥¨å®Ÿè£…ã‚°ãƒ«ãƒ¼ãƒ”ãƒ³ã‚°

**ä½¿ç”¨ã‚¿ã‚¤ãƒŸãƒ³ã‚°**: Gherkin ã‚·ãƒŠãƒªã‚ªé¸æŠå¾Œã€å®Ÿè£…é–‹å§‹å‰  
**é…ç½®å…ˆ**: `docs/plans/[æ©Ÿèƒ½ä»•æ§˜ãƒ•ã‚¡ã‚¤ãƒ«å]_[ã‚·ãƒŠãƒªã‚ªè­˜åˆ¥å­].md`

---

### 2. step-dependency-analysis.template.md

**ç”¨é€”**: Task06 - ç¸¦åˆ‡ã‚Šå®Ÿè£…ç²’åº¦ã®æ±ºå®šæ”¯æ´  
**å†…å®¹**:

- å„ã‚¹ãƒ†ãƒƒãƒ—ã® API ä¾å­˜åˆ†æ
- çŠ¶æ…‹ä¾å­˜ã®æ˜ç¢ºåŒ–ï¼ˆUI çŠ¶æ…‹/DB çŠ¶æ…‹ï¼‰
- ä¾å­˜é–¢ä¿‚å›³ï¼ˆMermaidï¼‰

**ä½¿ç”¨ã‚¿ã‚¤ãƒŸãƒ³ã‚°**: å®Ÿè£…ç²’åº¦ã‚’ç›¸è«‡ãƒ»æ±ºå®šã™ã‚‹å‰  
**é…ç½®å…ˆ**: `docs/plans/[æ©Ÿèƒ½ä»•æ§˜ãƒ•ã‚¡ã‚¤ãƒ«å]_[ã‚·ãƒŠãƒªã‚ªè­˜åˆ¥å­]_dependency.md`

---

### 3. implementation-granularity-proposal.template.md

**ç”¨é€”**: Task06 - å®Ÿè£…ç²’åº¦ãƒ‘ã‚¿ãƒ¼ãƒ³ã®é¸æŠãƒ»è¨˜éŒ²  
**å†…å®¹**:

- 3 ãƒ‘ã‚¿ãƒ¼ãƒ³æ¯”è¼ƒï¼ˆã‚¹ãƒ†ãƒƒãƒ—å˜ä½/API ã‚°ãƒ«ãƒ¼ãƒ—å˜ä½/ã‚·ãƒŠãƒªã‚ªå˜ä½ï¼‰
- ãƒ¡ãƒªãƒƒãƒˆãƒ»ãƒ‡ãƒ¡ãƒªãƒƒãƒˆåˆ†æ
- é¸æŠç†ç”±ã®è¨˜éŒ²

**ä½¿ç”¨ã‚¿ã‚¤ãƒŸãƒ³ã‚°**: ä¾å­˜é–¢ä¿‚åˆ†æå¾Œã€å®Ÿè£…é–‹å§‹å‰  
**é…ç½®å…ˆ**: `docs/plans/[æ©Ÿèƒ½ä»•æ§˜ãƒ•ã‚¡ã‚¤ãƒ«å]_[ã‚·ãƒŠãƒªã‚ªè­˜åˆ¥å­]_granularity.md`

---

### 4. domain-testlist.template.md

**ç”¨é€”**: Task06 - ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãƒ‰ãƒ¡ã‚¤ãƒ³å±¤ã® TDD å®Ÿè£…  
**å¯¾è±¡**: Entity, Repository, DomainService

**ä½¿ç”¨ã‚¿ã‚¤ãƒŸãƒ³ã‚°**: ç¸¦åˆ‡ã‚Šå®Ÿè£…ã§ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å®Ÿè£…ãŒå¿…è¦ãªæ™‚  
**é…ç½®å…ˆ**: `docs/plans/testlists/[æ©Ÿèƒ½ä»•æ§˜ãƒ•ã‚¡ã‚¤ãƒ«å]_[ã‚·ãƒŠãƒªã‚ªè­˜åˆ¥å­]_domain_testlist.md`

---

### 5. api-testlist.template.md

**ç”¨é€”**: Task06 - ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ API å±¤ã® TDD å®Ÿè£…  
**å¯¾è±¡**: UseCase, Controller, DTO, çµ±åˆãƒ†ã‚¹ãƒˆ

**ä½¿ç”¨ã‚¿ã‚¤ãƒŸãƒ³ã‚°**: ãƒ‰ãƒ¡ã‚¤ãƒ³å±¤å®Ÿè£…å®Œäº†å¾Œã€API å±¤å®Ÿè£…æ™‚  
**é…ç½®å…ˆ**: `docs/plans/testlists/[æ©Ÿèƒ½ä»•æ§˜ãƒ•ã‚¡ã‚¤ãƒ«å]_[ã‚·ãƒŠãƒªã‚ªè­˜åˆ¥å­]_api_testlist.md`

---

## ğŸ”„ é–‹ç™ºãƒ•ãƒ­ãƒ¼ï¼ˆæ–°ãƒ—ãƒ­ã‚»ã‚¹ï¼‰

```mermaid
graph TD
   A[Task01: æ©Ÿèƒ½ä»•æ§˜ä½œæˆ] --> B[Task02: ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ¢ãƒ‡ãƒªãƒ³ã‚°åˆç¨¿]
   B --> C[Task03: API Contractè¨­è¨ˆ<br/>+ ãƒ¢ãƒ‡ãƒ«è¦‹ç›´ã—]
   C --> D[Task04: Gherkin + å®Ÿè£…è¨ˆç”»]
    D --> E[implementation_plan.template.md]
   E --> F[Task05: Backend Stubç”Ÿæˆ]
   F --> G[Task06: ç¸¦åˆ‡ã‚Šå®Ÿè£…ã‚µã‚¤ã‚¯ãƒ«]
    G --> H{å®Ÿè£…ç²’åº¦ç›¸è«‡}
    H --> I[step-dependency-analysis.template.md]
    I --> J[implementation-granularity-proposal.template.md]
    J --> K{ãƒ‘ã‚¿ãƒ¼ãƒ³é¸æŠ}
    K -->|ã‚¹ãƒ†ãƒƒãƒ—å˜ä½| L1[1ã‚¹ãƒ†ãƒƒãƒ—ãšã¤å®Ÿè£…]
    K -->|APIã‚°ãƒ«ãƒ¼ãƒ—å˜ä½| L2[é–¢é€£ã‚¹ãƒ†ãƒƒãƒ—ã¾ã¨ã‚ã¦å®Ÿè£…]
    K -->|ã‚·ãƒŠãƒªã‚ªå˜ä½| L3[å…¨ä½“ä¸€æ‹¬å®Ÿè£…]
    L1 --> M[ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å®Ÿè£…å¿…è¦?]
    L2 --> M
    L3 --> M
    M -->|Yes| N[domain-testlist.template.md]
    M -->|No| O[ãƒ•ãƒ­ãƒ³ãƒˆå®Ÿè£…ã®ã¿]
    N --> P[api-testlist.template.md]
    P --> Q[TDDå®Ÿè£…]
    O --> Q
    Q --> R[E2Eãƒ†ã‚¹ãƒˆå®Ÿè¡Œ]
   R --> S[ã‚·ãƒŠãƒªã‚ªå®Œçµç¢ºèª]
```

---

## ğŸ“– ä½¿ç”¨æ–¹æ³•

### Task04: å®Ÿè£…è¨ˆç”»ä½œæˆ

```bash
# ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ã‚³ãƒ”ãƒ¼
cp docs/plans/templates/implementation_plan.template.md \
   docs/plans/[æ©Ÿèƒ½ä»•æ§˜ãƒ•ã‚¡ã‚¤ãƒ«å]_[ã‚·ãƒŠãƒªã‚ªè­˜åˆ¥å­].md

# ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼ã‚’åŸ‹ã‚ã‚‹
# - [Featureå], [ã‚·ãƒŠãƒªã‚ªå]
# - OpenAPIä»•æ§˜å‚ç…§
# - ã‚¹ãƒ†ãƒƒãƒ—åˆ¥å®Ÿè£…åˆ†é¡ï¼ˆãƒ•ãƒ­ãƒ³ãƒˆã®ã¿/APIä¾å­˜ï¼‰
```

### Task06: å®Ÿè£…ç²’åº¦ã®ç›¸è«‡

**Step 1: ä¾å­˜é–¢ä¿‚åˆ†æ**

```bash
cp docs/plans/templates/step-dependency-analysis.template.md \
   docs/plans/[æ©Ÿèƒ½ä»•æ§˜ãƒ•ã‚¡ã‚¤ãƒ«å]_[ã‚·ãƒŠãƒªã‚ªè­˜åˆ¥å­]_dependency.md

# å„ã‚¹ãƒ†ãƒƒãƒ—ã‚’åˆ†æ:
# - APIå‘¼ã³å‡ºã—ã®æœ‰ç„¡
# - çŠ¶æ…‹ä¾å­˜ï¼ˆUIçŠ¶æ…‹/DBçŠ¶æ…‹ï¼‰
# - ä¾å­˜é–¢ä¿‚å›³ã®ä½œæˆ
```

**Step 2: å®Ÿè£…ç²’åº¦ææ¡ˆ**

```bash
cp docs/plans/templates/implementation-granularity-proposal.template.md \
   docs/plans/[æ©Ÿèƒ½ä»•æ§˜ãƒ•ã‚¡ã‚¤ãƒ«å]_[ã‚·ãƒŠãƒªã‚ªè­˜åˆ¥å­]_granularity.md

# 3ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’æ¯”è¼ƒ:
# - ãƒ‘ã‚¿ãƒ¼ãƒ³A: ã‚¹ãƒ†ãƒƒãƒ—å˜ä½
# - ãƒ‘ã‚¿ãƒ¼ãƒ³B: APIã‚°ãƒ«ãƒ¼ãƒ—å˜ä½ï¼ˆæ¨å¥¨ï¼‰
# - ãƒ‘ã‚¿ãƒ¼ãƒ³C: ã‚·ãƒŠãƒªã‚ªå˜ä½
#
# é¸æŠç†ç”±ã‚’è¨˜éŒ²
```

**Step 3: ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å®Ÿè£…ï¼ˆAPI ä¾å­˜ã‚¹ãƒ†ãƒƒãƒ—ã®ã¿ï¼‰**

```bash
# ãƒ‰ãƒ¡ã‚¤ãƒ³å±¤ãƒ†ã‚¹ãƒˆãƒªã‚¹ãƒˆ
cp docs/plans/templates/domain-testlist.template.md \
   docs/plans/testlists/[æ©Ÿèƒ½ä»•æ§˜ãƒ•ã‚¡ã‚¤ãƒ«å]_[ã‚·ãƒŠãƒªã‚ªè­˜åˆ¥å­]_domain_testlist.md

# APIå±¤ãƒ†ã‚¹ãƒˆãƒªã‚¹ãƒˆ
cp docs/plans/templates/api-testlist.template.md \
   docs/plans/testlists/[æ©Ÿèƒ½ä»•æ§˜ãƒ•ã‚¡ã‚¤ãƒ«å]_[ã‚·ãƒŠãƒªã‚ªè­˜åˆ¥å­]_api_testlist.md

# TDDã‚µã‚¤ã‚¯ãƒ«ã§å®Ÿè£…:
# 1. Red: ãƒ†ã‚¹ãƒˆã‚’æ›¸ãï¼ˆå¤±æ•—ã™ã‚‹ï¼‰
# 2. Green: æœ€å°é™ã®å®Ÿè£…ã§é€šã™
# 3. Refactor: ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°
```

---

## ğŸ“ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆä¾‹

```
docs/plans/
   photo-upload-scenario1.md                    # Task04: å®Ÿè£…è¨ˆç”»
   photo-upload-scenario1_dependency.md         # Task06: ä¾å­˜é–¢ä¿‚åˆ†æ
   photo-upload-scenario1_granularity.md        # Task06: ç²’åº¦é¸æŠ
   testlists/
      photo-upload-scenario1_domain_testlist.md # ãƒ‰ãƒ¡ã‚¤ãƒ³å±¤TDD
      photo-upload-scenario1_api_testlist.md    # APIå±¤TDD
  photo-download-scenario1.md
  photo-download-scenario1_dependency.md
  photo-download-scenario1_granularity.md
   testlists/
      photo-download-scenario1_domain_testlist.md
      photo-download-scenario1_api_testlist.md
```

---

## âš ï¸ é‡è¦ãªæ³¨æ„äº‹é …

### API Contract First é–‹ç™º

- **OpenAPI ä»•æ§˜ãŒå¥‘ç´„**: ãƒ•ãƒ­ãƒ³ãƒˆãƒ»ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰é–“ã®ä¸­ç«‹ãªå¥‘ç´„
- **Task05 ã§ Stub ç”Ÿæˆ**: ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã¯ Stub ã«ç›´æ¥æ¥ç¶šã—ã¦é–‹ç™ºé–‹å§‹
- **Task06 ã§æœ¬å®Ÿè£…**: API ä¾å­˜ã‚¹ãƒ†ãƒƒãƒ—ã®ã¿ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰æœ¬å®Ÿè£…

### å®Ÿè£…ç²’åº¦ã®æŸ”è»Ÿæ€§

- **AI ã¨ç›¸è«‡ã—ã¦æ±ºå®š**: ä¾å­˜é–¢ä¿‚åˆ†æ â†’3 ãƒ‘ã‚¿ãƒ¼ãƒ³æ¯”è¼ƒ â†’ é¸æŠ
- **é€šå¸¸ã¯ãƒ‘ã‚¿ãƒ¼ãƒ³ B æ¨å¥¨**: API ã‚°ãƒ«ãƒ¼ãƒ—å˜ä½ï¼ˆ2-5 ã‚¹ãƒ†ãƒƒãƒ—ï¼‰
- **çŠ¶æ…‹é€£ç¶šæ€§ã‚’é‡è¦–**: DB çŠ¶æ…‹ä¾å­˜ãŒã‚ã‚‹ã‚¹ãƒ†ãƒƒãƒ—ã¯ã¾ã¨ã‚ã‚‹

### ç¸¦åˆ‡ã‚Šå®Ÿè£…ã®åˆ©ç‚¹

- **å·®åˆ†ãŒå°ã•ã„**: ãƒ¬ãƒ“ãƒ¥ãƒ¼å®¹æ˜“ã€ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯æ—©ã„
- **E2E ç¢ºèªãŒæ—©ã„**: å„ã‚µã‚¤ã‚¯ãƒ«ã§ E2E ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
- **æ‰‹æˆ»ã‚ŠãŒå°‘ãªã„**: API å¥‘ç´„ãŒç¢ºå®šã—ã¦ã„ã‚‹ãŸã‚

### ãƒ‰ãƒ¡ã‚¤ãƒ³å±¤ã¨ API å±¤ã®åˆ†é›¢

- **ãƒ‰ãƒ¡ã‚¤ãƒ³å±¤**: ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ã€å¤–éƒ¨æŠ€è¡“ã‹ã‚‰ç‹¬ç«‹
- **API å±¤**: HTTP ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã€OpenAPI å¥‘ç´„ã«æº–æ‹ 

---

## ğŸ”— é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

### é–‹ç™ºãƒ—ãƒ­ã‚»ã‚¹

- [é–‹ç™ºãƒ—ãƒ­ã‚»ã‚¹ã‚¬ã‚¤ãƒ‰](../../dev/howto/development.md) - BDD/TDD å…¨ä½“ãƒ•ãƒ­ãƒ¼
- [ç¸¦åˆ‡ã‚Šå®Ÿè£…ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³](../../dev/guidelines/vertical-slice.md)
- [OpenAPI ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³](../../dev/standards/openapi.md) - API è¨­è¨ˆãƒ«ãƒ¼ãƒ«

### AI ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ

- [å®Ÿè£…ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼](../../ai/prompts/system/01_implementation_workflow.md) - AI å®Ÿè¡Œæ™‚ã®æ³¨æ„äº‹é …
- [Task ä¸€è¦§](../../ai/prompts/tasks/README.md) - ã‚¿ã‚¹ã‚¯åˆ¥ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ

### ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¦ç´„

- [ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°æ¨™æº–](../../dev/standards/coding.md)
- [å“è³ªåŸºæº–](../../dev/standards/quality.md)
