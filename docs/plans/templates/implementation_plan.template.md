# 実装計画: [シナリオ名]

## 基本情報
- **Feature**: [Feature名]
- **Scenario**: [シナリオ名]
- **Spec**: [Specファイルへのリンク]
- **Domain Model**: `docs/spec/models/{feature_name}.md`
- **OpenAPI**: `docs/spec/api/{feature_name}.yaml`

## OpenAPI仕様

参照: `docs/spec/api/{feature_name}.yaml`

### エンドポイント一覧

| エンドポイント | メソッド | 概要 | 使用ステップ |
|---------------|---------|------|-------------|
| /api/v1/[resource] | POST | [概要] | [ステップ名] |
| /api/v1/[resource]/{id} | GET | [概要] | [ステップ名] |

### 主要スキーマ

- **[Resource]Response**: [説明]
- **[Resource]Request**: [説明]
- **ProblemDetails**: エラーレスポンス（RFC 9457準拠）

## ステップ別実装分類

Phase 6の縦切り実装のため、各ステップを分類します。

| ステップ | 分類 | API | 状態依存 | 備考 |
|---------|------|-----|---------|------|
| Given: [テキスト] | フロントのみ | - | なし | [備考] |
| When: [テキスト] | フロントのみ | - | なし | [備考] |
| And: [テキスト] | フロントのみ | - | UI状態 | [備考] |
| Then: [テキスト] | **API依存** | POST /[resource] | UI状態 | [備考] |
| And: [テキスト] | **API依存** | GET /[resource]/:id | **DB状態** | [備考] |

### 凡例
- **フロントのみ**: API呼び出しなし、フロントエンド実装のみ
- **API依存**: バックエンドAPIを呼び出す（フロント+バックエンド両方実装必要）
- **状態依存**:
  - UI状態: フロントエンドのReact State等に依存
  - DB状態: 前ステップでDBに保存したデータに依存

## 推奨実装グルーピング

Phase 6で縦切り実装する際の推奨グループ分けです。
AIとの相談時に調整可能です。

### グループ1: [グループ名]（フロントのみ）
- [ステップ1]
- [ステップ2]
- [ステップ3]

**実装内容**:
- [実装する内容の概要]

**API**: なし

**グルーピング理由**:
- [理由]

### グループ2: [グループ名]（API: [エンドポイント]）
- [ステップ4]
- [ステップ5]

**実装内容**:
- フロント: [概要]
- バックエンド: [概要]

**API**: [エンドポイント一覧]

**グルーピング理由**:
- [理由、特に状態依存がある場合は明記]

### グループ3: [グループ名]
- [ステップ6]
- [ステップ7]

**実装内容**:
- [概要]

**API**: [エンドポイント一覧]

**グルーピング理由**:
- [理由]

## Gherkinステップごとの実装要件

### [Given/When/Then] [ステップのテキスト]
**Frontend**
- **Components**: [変更・作成するコンポーネント]
- **State**: [状態管理の変更点]
- **UI/UX**: [表示内容、インタラクション]

**Backend API**
- **Endpoint**: `[METHOD] [PATH]`
- **Request**: [パラメータ、ボディ]
- **Response**: [ステータスコード、レスポンスボディ構造]

**Database**
- **Tables**: [関連テーブル]
- **Changes**: [スキーマ変更、クエリ内容]

**Validation & Logic**
- [バリデーションルール]
- [ビジネスロジックの要点]

---

### [Given/When/Then] [ステップのテキスト]
*(次のステップも同様に記述)*

---

## データモデル (共通)

**参照**: `docs/spec/models/{feature_name}.md`

ドメインモデルで定義されたエンティティ、バリューオブジェクト、リポジトリインターフェースを使用します。

### 追加がDB Schema
```sql
-- Additional table definitions or changes (if any)
```

### 追加のDTO (フロントエンド用)
```typescript
// Additional TypeScript interfaces for frontend (if any)
```

## 技術的課題・リスク
- [ ] [課題1]
- [ ] [課題2]

## 備考
- [その他メモ]
